<% layout('layout/boilerplate') %>
    <div class="row">
        <h1 class="text-center">Edit Order</h1>
        <div class="col-6 offset-3">
            <form method="POST" action="/order/<%=order._id%>/edit" class="validated-form" novalidate>
                <div class="mb-3">
                    <label class="form-label" for="drone">Choose a drone:</label>
                    <select class="form-control" name="order[drone_shot]" id="drone" required>
                        <option <%=order.drone_shot == "Multi-Rotor Drone" ? 'selected' : ''%> value="Multi-Rotor Drone">Multi-Rotor Drone</option>
                        <option <%=order.drone_shot == "Fixed-Wing Drone" ? 'selected' : ''%> value="Fixed-Wing Drone">Fixed-Wing Drone</option>
                        <option <%=order.drone_shot == "Single-Rotor Drone" ? 'selected' : ''%> value="Single-Rotor Drone">Single-Rotor Drone</option>
                        <option <%=order.drone_shot == "Fixed-Wing Hybrid Drone" ? 'selected' : ''%> value="Fixed-Wing Hybrid Drone">Fixed-Wing Hybrid Drone</option>
                    </select>
                    <div class="valid-feedback">
                        Looks Good!
                    </div>
                    <div class="invalid-feedback">
                        Invalid Input!
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="customer">Customer: </label>
                    <select class="form-control" name="order[customer]" id="customer" required>
                        <% for(let customer of customers){ %>
                            <option <%=customer._id == cus_id ? 'selected' : ''%> value="<%=customer._id%>"><%=customer.name%></option>
                        <%}%>
                    </select>
                    <div class="valid-feedback">
                        Looks Good!
                    </div>
                    <div class="invalid-feedback">
                        Invalid Input!
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="start_time">Start Time</label>
                    <input class="form-control" value="<%=order.start_time%>" type="datetime-local" name="order[start_time]" id="start_time" required>
                    <div class="valid-feedback">
                        Looks Good!
                    </div>
                    <div class="invalid-feedback">
                        Invalid Input!
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="end_time">End Time</label>
                    <input class="form-control" value="<%=order.end_time%>" type="datetime-local" name="order[end_time]" id="end_time" required>
                    <div class="valid-feedback">
                        Looks Good!
                    </div>
                    <div class="invalid-feedback">
                        Invalid Input!
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="location">Location</label>
                    <input class="form-control" value="<%=order.location%>" type="text" name="order[location]" id="location" required>
                    <div class="valid-feedback">
                        Looks Good!
                    </div>
                    <div class="invalid-feedback">
                        Invalid Input!
                    </div>
                </div>
                <div class="mb-3">
                    <button class="px-3 btn btn-success" type="submit">Edit Order</button>
                    <button class="px-3 ml-2 btn btn-primary"><a style="text-decoration: none; color: #fff;" href="/">Go Back</a></button>
                </div>
            </form>
        </div>
    </div>